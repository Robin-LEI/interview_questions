<!DOCTYPE html>
<!-- saved from url=(0066)http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>珠峰架构师成长计划</title>
    <link rel="stylesheet" type="text/css" href="./珠峰架构师成长计划_files/main.css">
    <link rel="stylesheet" href="./珠峰架构师成长计划_files/bootstrap.min.css">
    <style>
        .page-toc > ul .red {
            background: #f3f3f3;
            z-index: 1;
            border-left: 3px solid #009a61;
            -webkit-transition: all .2s ease;
            transition: all .2s ease;
            color: #000
        }
    </style>
</head>
<body>
<div class="nav">
    <div class="logo">
        
                    珠峰架构师成长计划
                        
                        </div>
                        <ul><li><a href="http://www.zhufengpeixun.com/strong/index.html">0.Async</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/0.editor.html">0.editor</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/0.module.html">0.module</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/1.ES2015.html">1.ES2015</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/2.Promise.html">2.Promise</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/3.Node.html">3.Node</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/4.NodeInstall.html">4.NodeInstall</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/5.REPL.html">5.REPL</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/6.NodeCore.html">6.NodeCore</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/7.module&amp;NPM.html">7.module&amp;NPM</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/8.Encoding.html">8.Encoding</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/9.Buffer.html">9.Buffer</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/10.fs.html">10.fs</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/11.Stream-1.html">11.Stream-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/11.Stream-2.html">11.Stream-2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/11.Stream-3.html">11.Stream-3</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/11.Stream-4.html">11.Stream-4</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/12-Network-2.html">12-Network-2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/12.NetWork-3.html">12.NetWork-3</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/12.Network-1.html">12.Network-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/13.tcp.html">13.tcp</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/14.http-1.html">14.http-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/14.http-2.html">14.http-2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/15.compress.html">15.compress</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/16.crypto.html">16.crypto</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/17.process.html">17.process</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/18.yargs.html">18.yargs</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/19.cache.html">19.cache</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/20.action.html">20.action</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/21.https.html">21.https</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/22.cookie.html">22.cookie</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/23.session.html">23.session</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/24.express-1.html">24.express-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/24.express-2.html">24.express-2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/24.express-3.html">24.express-3</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/24.express-4.html">24.express-4</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/25.koa-1.html">25.koa-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-1-basic.html">26.webpack-1-basic</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-2-optimize.html">26.webpack-2-optimize</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-3-file.html">26.webpack-3-file</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-4.tapable.html">26.webpack-4.tapable</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-5-AST.html">26.webpack-5-AST</a></li><li class="active"><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html">26.webpack-6-sources</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-7-loader.html">26.webpack-7-loader</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-8-plugin.html">26.webpack-8-plugin</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-9-hand.html">26.webpack-9-hand</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-10-prepare.html">26.webpack-10-prepare</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/28.redux.html">28.redux</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/28.redux-jwt-back.html">28.redux-jwt-back</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/28.redux-jwt-front.html">28.redux-jwt-front</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/29.mongodb-1.html">29.mongodb-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/29.mongodb-2.html">29.mongodb-2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/29.mongodb-3.html">29.mongodb-3</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/29.mongodb-4.html">29.mongodb-4</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/29.mongodb-5.html">29.mongodb-5</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/29.mongodb-6.html">29.mongodb-6</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-1-mysql.html">30.cms-1-mysql</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-2-mysql.html">30.cms-2-mysql</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-3-mysql.html">30.cms-3-mysql</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-4-nunjucks.html">30.cms-4-nunjucks</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-5-mock.html">30.cms-5-mock</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-6-egg.html">30.cms-6-egg</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-7-api.html">30.cms-7-api</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-8-roadhog.html">30.cms-8-roadhog</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-9-yaml.html">30.cms-9-yaml</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-10-umi.html">30.cms-10-umi</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-12-dva.html">30.cms-12-dva</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-13-dva-ant.html">30.cms-13-dva-ant</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-14-front.html">30.cms-14-front</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/30.cms-15-deploy.html">30.cms-15-deploy</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/31.dva.html">31.dva</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/31.cms-13-dva-antdesign.html">31.cms-13-dva-antdesign</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/33.redis.html">33.redis</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/34.unittest.html">34.unittest</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/35.jwt.html">35.jwt</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/36.websocket-1.html">36.websocket-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/36.websocket-2.html">36.websocket-2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/38.chat-api-1.html">38.chat-api-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/38.chat-api-2.html">38.chat-api-2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/38.chat-3.html">38.chat-3</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/38.chat-api-3.html">38.chat-api-3</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/38.chat.html">38.chat</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/38.chat2.html">38.chat2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/38.chat2.html">38.chat2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/39.crawl-0.html">39.crawl-0</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/39.crawl-1.html">39.crawl-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/39.crawl-2.html">39.crawl-2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/40.deploy.html">40.deploy</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/41.safe.html">41.safe</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/42.test.html">42.test</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/43.nginx.html">43.nginx</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/44.enzyme.html">44.enzyme</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/45.docker.html">45.docker</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/46.elastic.html">46.elastic</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/47.oauth.html">47.oauth</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/48.wxpay.html">48.wxpay</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/index.html">index</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/52.UML.html">52.UML</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/53.design.html">53.design</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/index.html">index</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/54.linux.html">54.linux</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/57.ts.html">57.ts</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/56.react-ssr.html">56.react-ssr</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/58.ts_react.html">58.ts_react</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/59.ketang.html">59.ketang</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/59.ketang2.html">59.ketang2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.1.devops-linux.html">61.1.devops-linux</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.2.devops-vi.html">61.2.devops-vi</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.3.devops-user.html">61.3.devops-user</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.4.devops-auth.html">61.4.devops-auth</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.5.devops-shell.html">61.5.devops-shell</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.6.devops-install.html">61.6.devops-install</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.7.devops-system.html">61.7.devops-system</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.8.devops-service.html">61.8.devops-service</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.9.devops-network.html">61.9.devops-network</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.10.devops-nginx.html">61.10.devops-nginx</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.11.devops-docker.html">61.11.devops-docker</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.12.devops-jekins.html">61.12.devops-jekins</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.13.devops-groovy.html">61.13.devops-groovy</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.14.devops-php.html">61.14.devops-php</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.15.devops-java.html">61.15.devops-java</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.16.devops-node.html">61.16.devops-node</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/61.17.devops-k8s.html">61.17.devops-k8s</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/62.1.react-basic.html">62.1.react-basic</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/62.2.react-state.html">62.2.react-state</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/62.3.react-high.html">62.3.react-high</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/62.4.react-optimize.html">62.4.react-optimize</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/62.5.react-hooks.html">62.5.react-hooks</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/62.6.react-immutable.html">62.6.react-immutable</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/62.7.react-mobx.html">62.7.react-mobx</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/62.8.react-source.html">62.8.react-source</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/63.1.redux.html">63.1.redux</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/63.2.redux-middleware.html">63.2.redux-middleware</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/63.3.redux-hooks.html">63.3.redux-hooks</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/63.4.redux-saga.html">63.4.redux-saga</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/63.5.redux-saga-hand.html">63.5.redux-saga-hand</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/64.1.router.html">64.1.router</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/64.2.router-connected.html">64.2.router-connected</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/65.1.typescript.html">65.1.typescript</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/65.2.typescript.html">65.2.typescript</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/65.3.typescript.html">65.3.typescript</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/65.4.antd.html">65.4.antd</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/65.4.definition.html">65.4.definition</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-1.vue-base.html">66-1.vue-base</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-2.vue-component.html">66-2.vue-component</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-3.vue-cli3.0.html">66-3.vue-cli3.0</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-4.$message%E7%BB%84%E4%BB%B6.html">66-4.$message组件</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-5.Form%E7%BB%84%E4%BB%B6.html">66-5.Form组件</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-6.tree.html">66-6.tree</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-7.vue-router-apply.html">66-7.vue-router-apply</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-8.axios-apply.html">66-8.axios-apply</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-9.vuex-apply.html">66-9.vuex-apply</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-10.jwt-vue.html">66-10.jwt-vue</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-11.vue-ssr.html">66-11.vue-ssr</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-12.nuxt-apply.html">66-12.nuxt-apply</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-13.pwa.html">66-13.pwa</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-14.vue%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html">66-14.vue单元测试</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/66-15.%E6%9D%83%E9%99%90%E6%A0%A1%E9%AA%8C.html">66-15.权限校验</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/67-1-network.html">67-1-network</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/68-2-wireshark.html">68-2-wireshark</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/7.npm2.html">7.npm2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/69-hooks.html">69-hooks</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/70-deploy.html">70-deploy</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/71-hmr.html">71-hmr</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/72.deploy.html">72.deploy</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/73.import.html">73.import</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/74.mobile.html">74.mobile</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-1.%E6%96%87%E4%BB%B6%E5%88%86%E6%9E%90.html">75.webpack-1.文件分析</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-2.loader.html">75.webpack-2.loader</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-3.%E6%BA%90%E7%A0%81%E6%B5%81%E7%A8%8B.html">75.webpack-3.源码流程</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-4.tapable.html">75.webpack-4.tapable</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-5.prepare.html">75.webpack-5.prepare</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-6.resolve.html">75.webpack-6.resolve</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-7.loader.html">75.webpack-7.loader</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-8.module.html">75.webpack-8.module</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-9.chunk.html">75.webpack-9.chunk</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-10.asset.html">75.webpack-10.asset</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/75.webpack-11.%E5%AE%9E%E7%8E%B0.html">75.webpack-11.实现</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/76.react_optimize.html">76.react_optimize</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/77.ts_ketang_back.html">77.ts_ketang_back</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/77.ts_ketang_front.html">77.ts_ketang_front</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/78.vue-domdiff.html">78.vue-domdiff</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/79.grammar.html">79.grammar</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/80.tree.html">80.tree</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/81.axios.html">81.axios</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.1.react.html">82.1.react</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.2.react-high.html">82.2.react-high</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.3.react-router.html">82.3.react-router</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.4.redux.html">82.4.redux</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.5.redux_middleware.html">82.5.redux_middleware</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.6.connected.html">82.6.connected</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.7.saga.html">82.7.saga</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.8.dva.html">82.8.dva</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.8.dva-source.html">82.8.dva-source</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.9.roadhog.html">82.9.roadhog</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.10.umi.html">82.10.umi</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.11.antdesign.html">82.11.antdesign</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.12.ketang-front.html">82.12.ketang-front</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/82.12.ketang-back.html">82.12.ketang-back</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/83.upload.html">83.upload</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/84.graphql.html">84.graphql</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/85.antpro.html">85.antpro</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/86.1.uml.html">86.1.uml</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/86.2.design.html">86.2.design</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/87.postcss.html">87.postcss</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/88.react16-1.html">88.react16-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/89.nextjs.html">89.nextjs</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/90.react-test.html">90.react-test</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/91.react-ts.html">91.react-ts</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/92.rbac.html">92.rbac</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/93.tsnode.html">93.tsnode</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/94.1.JavaScript.html">94.1.JavaScript</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/94.2.JavaScript.html">94.2.JavaScript</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/94.3.MODULE.html">94.3.MODULE</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/94.4.EventLoop.html">94.4.EventLoop</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/94.5.%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0.html">94.5.文件上传</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/94.6.https.html">94.6.https</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/94.7.%20nginx.html">94.7. nginx</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/95.1.%20react.html">95.1. react</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/95.2.react.html">95.2.react</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/96.1.react16.html">96.1.react16</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/96.2.fiber.html">96.2.fiber</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/96.3.fiber.html">96.3.fiber</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/97.serverless.html">97.serverless</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/98.websocket.html">98.websocket</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/100.1.react-basic.html">100.1.react-basic</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/101.1.monitor.html">101.1.monitor</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/101.2.monitor.html">101.2.monitor</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/102.java.html">102.java</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.1.webpack-usage.html">103.1.webpack-usage</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.2.webpack-bundle.html">103.2.webpack-bundle</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.3.webpack-ast.html">103.3.webpack-ast</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.4.webpack-flow.html">103.4.webpack-flow</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.5.webpack-loader.html">103.5.webpack-loader</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.6.webpack-tapable.html">103.6.webpack-tapable</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.7.webpack-plugin.html">103.7.webpack-plugin</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.8.webpack-optimize1.html">103.8.webpack-optimize1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.9.webpack-optimize2.html">103.9.webpack-optimize2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.10.webpack-hand.html">103.10.webpack-hand</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.11.webpack-hmr.html">103.11.webpack-hmr</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.13.webpack5.html">103.13.webpack5</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.14.webpack-sourcemap.html">103.14.webpack-sourcemap</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.15.webpack-compiler1.html">103.15.webpack-compiler1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/103.15.webpack-compiler2.html">103.15.webpack-compiler2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/104.1.binary.html">104.1.binary</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/104.2.binary.html">104.2.binary</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/105.skeleton.html">105.skeleton</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.1.react.html">106.1.react</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.1.react_source.html">106.1.react_source</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.2.react_hooks.html">106.2.react_hooks</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.2.react_hooks_source.html">106.2.react_hooks_source</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.3.react_router.html">106.3.react_router</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.4.redux.html">106.4.redux</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.5.redux_middleware.html">106.5.redux_middleware</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.6.connected-react-router.html">106.6.connected-react-router</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.7.redux-saga.html">106.7.redux-saga</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.8.dva.html">106.8.dva</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.9.umi.html">106.9.umi</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.10.antpro.html">106.10.antpro</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/107.fiber.html">107.fiber</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/108.http.html">108.http</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/109.1.webpack_usage.html">109.1.webpack_usage</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/109.2.webpack_source.html">109.2.webpack_source</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/109.3.dll.html">109.3.dll</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/110.nest.js.html">110.nest.js</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/111.xstate.html">111.xstate</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/112.Form.html">112.Form</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/113.redux-saga.html">113.redux-saga</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/114.react+typescript.html">114.react+typescript</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/115.immer.html">115.immer</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/116.pro5.html">116.pro5</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/117.css-loader.html">117.css-loader</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/118.1.umi-core.html">118.1.umi-core</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/119.2.module-federation.html">119.2.module-federation</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/119.1.module-federation.html">119.1.module-federation</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/120.create-react-app.html">120.create-react-app</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/121.react-scripts.html">121.react-scripts</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/122.react-optimize.html">122.react-optimize</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/123.jsx-runtime.html">123.jsx-runtime</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/124.next.js.html">124.next.js</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/106.11.ketang.html">106.11.ketang</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.1.linux.html">125.1.linux</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.2.linux-vi.html">125.2.linux-vi</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.3.linux-user.html">125.3.linux-user</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.4.linux-auth.html">125.4.linux-auth</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.5.linux-shell.html">125.5.linux-shell</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.6.linux-install.html">125.6.linux-install</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.7.linux-system.html">125.7.linux-system</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.8.linux-service.html">125.8.linux-service</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.9.linux-network.html">125.9.linux-network</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.10.nginx.html">125.10.nginx</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.11.docker.html">125.11.docker</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.12.ci.html">125.12.ci</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/126.11.react-1.html">126.11.react-1</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.13.k8s.html">125.13.k8s</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.14.k8s.html">125.14.k8s</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.15.k8s.html">125.15.k8s</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/125.16.k8s.html">125.16.k8s</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/126.12.react-2.html">126.12.react-2</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/126.12.react-3.html">126.12.react-3</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/127.frontend.html">127.frontend</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/128.rollup.html">128.rollup</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/129.px2rem-loader.html">129.px2rem-loader</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/130.health.html">130.health</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/131.hooks.html">131.hooks</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/126.12.react-4.html">126.12.react-4</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/132.keepalive.html">132.keepalive</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/133.vue-cli.html">133.vue-cli</a></li></ul>                        </div>

                        
<div class="warpper">
    <div class="page-toc">
        <ul><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t01.%20%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE">1. 初始化项目</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t12.%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">2.配置文件</a><ul><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t22.1%20src\index.js">2.1 src\index.js</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t32.2%20webpack.config.js">2.2 webpack.config.js</a></li></ul></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t43.%E5%8F%AF%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4">3.可执行命令</a><ul><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t53.1%20%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8">3.1 直接调用</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t63.2%20%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E8%B0%83%E8%AF%95%E6%96%87%E4%BB%B6">3.2 如何生成调试文件</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t73.2%20webpack.cmd">3.2 webpack.cmd</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t83.3%20webpack.js">3.3 webpack.js</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t93.4%20%E9%98%85%E8%AF%BB%E6%80%9D%E8%B7%AF">3.4 阅读思路</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t103.5%20%E9%87%8D%E8%A6%81%E6%96%87%E4%BB%B6">3.5 重要文件</a></li></ul></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t114.%E5%90%AF%E5%8A%A8%E7%BC%96%E8%AF%91">4.启动编译</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t125.%E9%92%A9%E5%AD%90">5.钩子</a><ul><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t135.1%20Compiler">5.1 Compiler</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t145.2%20Compilation">5.2 Compilation</a></li></ul></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t155.Stats%20%E5%AF%B9%E8%B1%A1">5.Stats 对象</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t166.%20%E4%B8%BB%E8%A6%81%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B">6. 主要工作流程</a><ul><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t176.1%20%E5%88%9D%E5%A7%8B%E5%8C%96%E9%98%B6%E6%AE%B5">6.1 初始化阶段</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t186.2%20%E7%BC%96%E8%AF%91%E9%98%B6%E6%AE%B5">6.2 编译阶段</a></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t196.3%20%E7%BB%93%E6%9D%9F%E9%98%B6%E6%AE%B5">6.3 结束阶段</a></li></ul></li><li><a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t207.%20%E5%8F%82%E8%80%83">7. 参考</a></li></ul>
    </div>
    <div class="content markdown-body">
        <p>﻿</p>
<h2 id="t01. 初始化项目">1. 初始化项目 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t01.%20%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE"> # </a></h2>
<pre><code class="lang-js">doskey /history
mkdir webpack-source
cd webpack-source
npm init -y
cnpm i webpack webpack-cli -D
cnpm i lodash -S
npx webpack
</code></pre>
<h2 id="t12.配置文件">2.配置文件 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t12.%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"> # </a></h2>
<h3 id="t22.1 src\index.js">2.1 src\index.js <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t22.1%20src\index.js"> # </a></h3>
<p>src\index.js</p>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> _ <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash'</span>;
<span class="hljs-built_in">console</span>.log(_.isArray([]));
</code></pre>
<h3 id="t32.2 webpack.config.js">2.2 webpack.config.js <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t32.2%20webpack.config.js"> # </a></h3>
<p>webpack.config.js</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-attr">mode</span>:<span class="hljs-string">'development'</span>,
    <span class="hljs-attr">entry</span>: <span class="hljs-string">'./src/index.js'</span>,
    <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">path</span>:path.join(__dirname,<span class="hljs-string">'dist'</span>),
        <span class="hljs-attr">filename</span>: <span class="hljs-string">'bundle.js'</span>
    }
};
</code></pre>
<h2 id="t43.可执行命令">3.可执行命令 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t43.%E5%8F%AF%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4"> # </a></h2>
<ul>
<li><a href="https://webpack.js.org/api/cli/">cli</a></li>
</ul>
<h3 id="t53.1 直接调用">3.1 直接调用 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t53.1%20%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8"> # </a></h3>
<ul>
<li>可以直接打开<code>node_modules\webpack-cli\bin\cli.js</code>文件</li>
<li>然后直接打开调试窗口，然后点击启动编译就可以了</li>
</ul>
<h3 id="t63.2 如何生成调试文件">3.2 如何生成调试文件 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t63.2%20%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E8%B0%83%E8%AF%95%E6%96%87%E4%BB%B6"> # </a></h3>
<ul>
<li>打开工程目录，点击调试按钮，再点击小齿轮的配置按钮系统就会生成launch.json配置文件</li>
<li>修改好了以后直接点击F5就可以启动调试</li>
</ul>
<p>.vscode\launch.json</p>
<pre><code class="lang-json">{
    <span class="hljs-attr">"version"</span>: <span class="hljs-string">"0.2.0"</span>,
    <span class="hljs-attr">"configurations"</span>: [
        {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"node"</span>,
            <span class="hljs-attr">"request"</span>: <span class="hljs-string">"launch"</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"debug webpack"</span>,
            <span class="hljs-attr">"cwd"</span>: <span class="hljs-string">"${workspaceFolder}"</span>,
            <span class="hljs-attr">"program"</span>: <span class="hljs-string">"${workspaceFolder}/node_modules/_webpack-cli@3.3.10@webpack-cli/bin/cli.js"</span>
        }
    ]
}
</code></pre>
<h3 id="t73.2 webpack.cmd">3.2 webpack.cmd <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t73.2%20webpack.cmd"> # </a></h3>
<p>webpack-source\node_modules.bin\webpack.cmd</p>
<ul>
<li><code>%~dp0</code>是批处理文件所在的盘符:+路径(%~dp0 C:\vipdata\vipproject\webpack-source\node_modules.bin)</li>
<li><code>SETLOCAL</code>主要针对临时环境变量，不会影响到系统的变量环境设置，应与endlocal联用</li>
<li><code>PATHEXT</code>当在一个相同的目录结构下，有相同的多个主文件名，不同的文件后缀名时，系统会根据PATHEXT中的后缀名，选择其中顺序最靠前的那一个<pre><code class="lang-js">@IF EXIST <span class="hljs-string">"%~dp0\node.exe"</span> (<span class="hljs-comment">//如果当前盘符的根目录下存在node.exe,用当前的node执行</span>
<span class="hljs-string">"%~dp0\node.exe"</span>  <span class="hljs-string">"%~dp0\..\_webpack@4.39.3@webpack\bin\webpack.js"</span> %*
) ELSE (<span class="hljs-comment">//如果当前的盘符没有node.exe</span>
@SETLOCAL
@SET PATHEXT=%PATHEXT:;.JS;=;%
node  <span class="hljs-string">"%~dp0\..\_webpack@4.39.3@webpack\bin\webpack.js"</span> %*
)
</code></pre>
</li>
</ul>
<h3 id="t83.3 webpack.js">3.3 webpack.js <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t83.3%20webpack.js"> # </a></h3>
<p>node_modules\webpack\bin\webpack.js</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">"path"</span>);
<span class="hljs-keyword">const</span> pkgPath = <span class="hljs-built_in">require</span>.resolve(<span class="hljs-string">`<span class="hljs-subst">${installedClis[<span class="hljs-number">0</span>].package}</span>/package.json`</span>);
    <span class="hljs-comment">// eslint-disable-next-line node/no-missing-require</span>
<span class="hljs-keyword">const</span> pkg = <span class="hljs-built_in">require</span>(pkgPath);
    <span class="hljs-comment">// eslint-disable-next-line node/no-missing-require</span>
<span class="hljs-built_in">require</span>(path.resolve(
    path.dirname(pkgPath),
    pkg.bin[installedClis[<span class="hljs-number">0</span>].binName]
));
</code></pre>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">"path"</span>);
<span class="hljs-keyword">const</span> pkgPath = <span class="hljs-built_in">require</span>.resolve(<span class="hljs-string">`webpack-cli/package.json`</span>);
<span class="hljs-keyword">const</span> pkg = <span class="hljs-built_in">require</span>(pkgPath);
<span class="hljs-built_in">require</span>(path.resolve(path.dirname(pkgPath),pkg.bin[<span class="hljs-string">'webpack-cli'</span>]));
</code></pre>
<ul>
<li>npx webpack就相当于用node执行cli.js脚本</li>
</ul>
<pre><code class="lang-js">npx webpack = node ./node_modules/webpack-cli/bin/cli.js
</code></pre>
<h3 id="t93.4 阅读思路">3.4 阅读思路 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t93.4%20%E9%98%85%E8%AF%BB%E6%80%9D%E8%B7%AF"> # </a></h3>
<ul>
<li>先折叠无关的分支的逻辑，只看主体流程代码</li>
<li>寻找关键路径，根据变量名和方法名猜测意图，然后通过阅读源码来验证想法</li>
<li>debugger关键路径，理解整个执行过程 </li>
</ul>
<h3 id="t103.5 重要文件">3.5 重要文件 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t103.5%20%E9%87%8D%E8%A6%81%E6%96%87%E4%BB%B6"> # </a></h3>
<ul>
<li>Webpack 类似于一个公司</li>
<li>Compiler 类似于公司的董事长，只把握战略方向</li>
<li>Compilation 就像各个事业部的总监,负责各个部门的管理</li>
<li>ModuleFactory 就像各个具体部门了,负责具体工作产出产品</li>
</ul>
<h2 id="t114.启动编译">4.启动编译 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t114.%E5%90%AF%E5%8A%A8%E7%BC%96%E8%AF%91"> # </a></h2>
<ul>
<li>Compiler和Compilation都继承自Tapable</li>
<li>Compiler是每个Webpack配置对应一个Compiler对象，记录着Webpack的生命周期</li>
<li>在构建的过程中，每次构建都会产生一个Compilation,Compilation是构建周期的产物</li>
<li>Compiler模块是Webpack最核心的模块</li>
<li>每次执行构建的时候，都会先实例化一个 Compiler对象，然后调用它的<code>run</code>方法来开启一次完整的编译</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">说明</th>
<th style="text-align:left">代码</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1.读取配置文件</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack-cli/blob/v3.3.7/bin/utils/convert-argv.js#L125">requireConfig</a></td>
</tr>
<tr>
<td style="text-align:left">2.创建compiler</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack-cli/blob/v3.3.7/bin/cli.js#L272">webpack(options)</a></td>
</tr>
<tr>
<td style="text-align:left">3.开始编译</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack-cli/blob/v3.3.7/bin/cli.js#L352">compiler.run</a></td>
</tr>
</tbody>
</table>
<pre><code class="lang-js">node debug.js
</code></pre>
<p>debug.js</p>
<pre><code class="lang-js"> <span class="hljs-keyword">const</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">"webpack"</span>);
 <span class="hljs-keyword">const</span> config = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./webpack.config.js'</span>);<span class="hljs-comment">//1.读取配置文件</span>
 <span class="hljs-keyword">const</span> compiler = webpack(config);
 <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compilerCallback</span>(<span class="hljs-params">err, stats</span>) </span>{
     <span class="hljs-keyword">const</span> statsString = stats.toString();
     <span class="hljs-built_in">console</span>.log(statsString);
 }
 compiler.run(<span class="hljs-function">(<span class="hljs-params">err,stats</span>)=&gt;</span>{
     compilerCallback(err, stats);
 });

</code></pre>
<h2 id="t125.钩子">5.钩子 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t125.%E9%92%A9%E5%AD%90"> # </a></h2>
<h3 id="t135.1 Compiler">5.1 Compiler <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t135.1%20Compiler"> # </a></h3>
<ul>
<li>L106</li>
</ul>
<pre><code class="lang-diff">            entryOption: new SyncBailHook(["context", "entry"])
        };
<span class="hljs-addition">+        Object.keys(this.hooks).forEach(hookName =&gt; {</span>
<span class="hljs-addition">+            const hook = this.hooks[hookName];</span>
<span class="hljs-addition">+            if (hook.tap) {</span>
<span class="hljs-addition">+                hook.tap('flow', () =&gt; {</span>
<span class="hljs-addition">+                    console.log(`|compiler|${hookName}|${Object.getPrototypeOf(hook).constructor.name}|${hook._args}|`);</span>
<span class="hljs-addition">+                });</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+        });</span>
</code></pre>
<h3 id="t145.2 Compilation">5.2 Compilation <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t145.2%20Compilation"> # </a></h3>
<ul>
<li>L437</li>
</ul>
<pre><code class="lang-diff">            afterOptimizeExtractedChunks: new SyncHook(["chunks"])
        };
<span class="hljs-addition">+        Object.keys(this.hooks).forEach(hookName =&gt; {</span>
<span class="hljs-addition">+            const hook = this.hooks[hookName];</span>
<span class="hljs-addition">+            if (hook.tap) {</span>
<span class="hljs-addition">+                hook.tap('flow', () =&gt; {</span>
<span class="hljs-addition">+                    console.log(`|compilation|${hookName}|${Object.getPrototypeOf(hook).constructor.name}|${hook._args}|`);</span>
<span class="hljs-addition">+                });</span>
<span class="hljs-addition">+            }</span>
<span class="hljs-addition">+        });</span>
        this._pluginCompat.tap("Compilation", options =&gt; {
</code></pre>
<pre><code class="lang-js">|compiler|environment|SyncHook||
|compiler|afterEnvironment|SyncHook||
|compiler|entryOption|SyncBailHook|context,entry|
|compiler|afterPlugins|SyncHook|compiler|
|compiler|afterResolvers|SyncHook|compiler|
|compiler|beforeRun|AsyncSeriesHook|compiler|
|compiler|run|AsyncSeriesHook|compiler|
|compiler|normalModuleFactory|SyncHook|normalModuleFactory|
|compiler|contextModuleFactory|SyncHook|contextModulefactory|
|compiler|beforeCompile|AsyncSeriesHook|params|
|compiler|compile|SyncHook|params|
|compiler|thisCompilation|SyncHook|compilation,params|
|compiler|compilation|SyncHook|compilation,params|
|compiler|make|AsyncParallelHook|compilation|
|compilation|addEntry|SyncHook|entry,name|
|compilation|buildModule|SyncHook|<span class="hljs-built_in">module</span>|
|compilation|normalModuleLoader|SyncHook|loaderContext,<span class="hljs-built_in">module</span>|
|compilation|succeedModule|SyncHook|<span class="hljs-built_in">module</span>|
|compilation|buildModule|SyncHook|<span class="hljs-built_in">module</span>|
|compilation|normalModuleLoader|SyncHook|loaderContext,<span class="hljs-built_in">module</span>|
|compilation|succeedModule|SyncHook|<span class="hljs-built_in">module</span>|
|compilation|buildModule|SyncHook|<span class="hljs-built_in">module</span>|
|compilation|normalModuleLoader|SyncHook|loaderContext,<span class="hljs-built_in">module</span>|
|compilation|buildModule|SyncHook|<span class="hljs-built_in">module</span>|
|compilation|normalModuleLoader|SyncHook|loaderContext,<span class="hljs-built_in">module</span>|
|compilation|succeedModule|SyncHook|<span class="hljs-built_in">module</span>|
|compilation|succeedModule|SyncHook|<span class="hljs-built_in">module</span>|
|compilation|succeedEntry|SyncHook|entry,name,<span class="hljs-built_in">module</span>|
|compilation|finishModules|AsyncSeriesHook|modules|
|compilation|seal|SyncHook||
|compilation|optimizeDependenciesBasic|SyncBailHook|modules|
|compilation|optimizeDependencies|SyncBailHook|modules|
|compilation|optimizeDependenciesAdvanced|SyncBailHook|modules|
|compilation|afterOptimizeDependencies|SyncHook|modules|
|compilation|beforeChunks|SyncHook||
|compilation|dependencyReference|SyncWaterfallHook|dependencyReference,d
|compilation|dependencyReference|SyncWaterfallHook|dependencyReference,d
|compilation|dependencyReference|SyncWaterfallHook|dependencyReference,d
|compilation|dependencyReference|SyncWaterfallHook|dependencyReference,d
|compilation|log|SyncBailHook|origin,logEntry|
|compilation|log|SyncBailHook|origin,logEntry|
|compilation|afterChunks|SyncHook|chunks|
|compilation|optimize|SyncHook||
|compilation|optimizeModulesBasic|SyncBailHook|modules|
|compilation|optimizeModules|SyncBailHook|modules|
|compilation|optimizeModulesAdvanced|SyncBailHook|modules|
|compilation|afterOptimizeModules|SyncHook|modules|
|compilation|optimizeChunksBasic|SyncBailHook|chunks,chunkGroups|
|compilation|optimizeChunks|SyncBailHook|chunks,chunkGroups|
|compilation|optimizeChunksAdvanced|SyncBailHook|chunks,chunkGroups|
|compilation|afterOptimizeChunks|SyncHook|chunks,chunkGroups|
|compilation|optimizeTree|AsyncSeriesHook|chunks,modules|
|compilation|afterOptimizeTree|SyncHook|chunks,modules|
|compilation|optimizeChunkModulesBasic|SyncBailHook|chunks,modules|
|compilation|optimizeChunkModules|SyncBailHook|chunks,modules|
|compilation|optimizeChunkModulesAdvanced|SyncBailHook|chunks,modules|
|compilation|afterOptimizeChunkModules|SyncHook|chunks,modules|
|compilation|shouldRecord|SyncBailHook||
|compilation|reviveModules|SyncHook|modules,records|
|compilation|optimizeModuleOrder|SyncHook|modules|
|compilation|advancedOptimizeModuleOrder|SyncHook|modules|
|compilation|beforeModuleIds|SyncHook|modules|
|compilation|moduleIds|SyncHook|modules|
|compilation|optimizeModuleIds|SyncHook|modules|
|compilation|afterOptimizeModuleIds|SyncHook|modules|
|compilation|reviveChunks|SyncHook|chunks,records|
|compilation|optimizeChunkOrder|SyncHook|chunks|
|compilation|beforeChunkIds|SyncHook|chunks|
|compilation|optimizeChunkIds|SyncHook|chunks|
|compilation|afterOptimizeChunkIds|SyncHook|chunks|
|compilation|recordModules|SyncHook|modules,records|
|compilation|recordChunks|SyncHook|chunks,records|
|compilation|beforeHash|SyncHook||
|compilation|chunkHash|SyncHook|chunk,chunkHash|
|compilation|contentHash|SyncHook|chunk|
|compilation|afterHash|SyncHook||
|compilation|recordHash|SyncHook|records|
|compilation|beforeModuleAssets|SyncHook||
|compilation|shouldGenerateChunkAssets|SyncBailHook||
|compilation|beforeChunkAssets|SyncHook||
|compilation|chunkAsset|SyncHook|chunk,filename|
|compilation|additionalChunkAssets|SyncHook|chunks|
|compilation|record|SyncHook|compilation,records|
|compilation|additionalAssets|AsyncSeriesHook||
|compilation|optimizeChunkAssets|AsyncSeriesHook|chunks|
|compilation|afterOptimizeChunkAssets|SyncHook|chunks|
|compilation|optimizeAssets|AsyncSeriesHook|assets|
|compilation|afterOptimizeAssets|SyncHook|assets|
|compilation|needAdditionalSeal|SyncBailHook||
|compilation|afterSeal|AsyncSeriesHook||
|compiler|afterCompile|AsyncSeriesHook|compilation|
|compiler|shouldEmit|SyncBailHook|compilation|
|compiler|emit|AsyncSeriesHook|compilation|
|compiler|assetEmitted|AsyncSeriesHook|file,content|
|compiler|afterEmit|AsyncSeriesHook|compilation|
|compilation|needAdditionalPass|SyncBailHook||
|compiler|done|AsyncSeriesHook|stats|
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">事件名称</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
<th style="text-align:left">发射事件代码</th>
<th style="text-align:left">对应插件</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">environment</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">空</td>
<td style="text-align:left">准备编译环境，webpack plugins配置初始化完成之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/webpack.js#L55">webpack.js#L55</a></td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/node/NodeEnvironmentPlugin.js">NodeEnvironmentPlugin</a></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">afterEnvironment</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">空</td>
<td style="text-align:left">编译环境准备好之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/webpack.js#L56">webpack.js#L56</a></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">entryOption</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">context,entry</td>
<td style="text-align:left">在 webpack 中的 entry 配置处理过之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/WebpackOptionsApply.js#L291">WebpackOptionsApply.js#L291</a></td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/EntryOptionPlugin.js">EntryOptionPlugin</a>,<a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/SingleEntryPlugin.js">SingleEntryPlugin</a></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">afterPlugins</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">compiler</td>
<td style="text-align:left">初始化完内置插件之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/WebpackOptionsApply.js#L506">WebpackOptionsApply.js#L506</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">afterResolvers</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">compiler</td>
<td style="text-align:left">resolver 完成之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/WebpackOptionsApply.js#L541">WebpackOptionsApply.js#L541</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">beforeRun</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">compiler</td>
<td style="text-align:left">开始正式编译之前</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L312">Compiler.js#L312</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">run</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">compiler</td>
<td style="text-align:left">开始编译之后，读取 records 之前；监听模式触发watch-run</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L315">Compiler.js#L315</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">normalModuleFactory</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">normalModuleFactory</td>
<td style="text-align:left">NormalModuleFactory 创建之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L631">Compiler.js#L631</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">contextModuleFactory</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">contextModulefactory</td>
<td style="text-align:left">ContextModuleFactory 创建之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L637">Compiler.js#L631</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">beforeCompile</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">params</td>
<td style="text-align:left">compilation 实例化需要的参数创建完毕之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L652">Compiler.js#L652</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">compile</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">params</td>
<td style="text-align:left">一次 compilation 编译创建之前</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L652">Compiler.js#L652</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">thisCompilation</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">compilation,params</td>
<td style="text-align:left">触发 compilation 事件之前执行</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L620">Compiler.js#L620</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">compilation</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">compilation,params</td>
<td style="text-align:left">compilation创建成功之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L620">Compiler.js#L620</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">make</td>
<td style="text-align:left">AsyncParallelHook</td>
<td style="text-align:left">compilation</td>
<td style="text-align:left">完成编译之前</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L659">Compiler.js#L659</a></td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/SingleEntryPlugin.js">SingleEntryPlugin</a></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">addEntry</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">entry,name</td>
<td style="text-align:left">增加入口</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/master/lib/Compilation.js#L1106">Compilation.js#L1106</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">buildModule</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">module</td>
<td style="text-align:left">在模块构建开始之前触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/master/lib/Compilation.js#L701">Compilation.js#L701</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">normalModuleLoader</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">loaderContext,module</td>
<td style="text-align:left">普通模块 loader，真正（一个接一个地）加载模块图（graph）中所有模块的函数</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/master/lib/NormalModule.js#L233">NormalModule.js#L233</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">succeedModule</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">module</td>
<td style="text-align:left">模块构建成功时执行</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#744">Compilation.js#744</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">succeedEntry</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">entry,name,module</td>
<td style="text-align:left"></td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1147">Compilation.js#L1147</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">finishModules</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">所有模块都完成构建</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1216">Compilation.js#L1216</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">seal</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">编译（compilation）停止接收新模块时触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1246">Compilation.js#L1246</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeDependenciesBasic</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">基础依赖优化开始时触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1249">Compilation.js#L1249</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeDependencies</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">依赖优化开始时触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1250">Compilation.js#L1250</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeDependenciesAdvanced</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">高级依赖优化开始时触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1251">Compilation.js#L1251</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterOptimizeDependencies</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">优化结束</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1255">Compilation.js#L1255</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">beforeChunks</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">开始生成代码块</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1257">Compilation.js#L1257</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">dependencyReference</td>
<td style="text-align:left">SyncWaterfallHook</td>
<td style="text-align:left">dependencyReference,dependency,module</td>
<td style="text-align:left">依赖引用</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1565">Compilation.js#L1565</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">log</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">origin,logEntry</td>
<td style="text-align:left">打印日志</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L542">Compilation.js#L542</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterChunks</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks</td>
<td style="text-align:left">代码块生成之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1282">Compilation.js#L1282</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimize</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">优化阶段开始时触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1284">Compilation.js#L1284</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeModulesBasic</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">基础模块的优化</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1287">Compilation.js#L1284</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeModules</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">模块的优化</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1288">Compilation.js#L1284</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeModulesAdvanced</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">高级模块的优化</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1289">Compilation.js#L1284</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterOptimizeModules</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">模块优化结束时触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1293">Compilation.js#L1293</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeChunksBasic</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">chunks,chunkGroups</td>
<td style="text-align:left">基础chunk优化</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1287">Compilation.js#L1296</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeChunks</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">chunks,chunkGroups</td>
<td style="text-align:left">优化 chunks</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1297">Compilation.js#L1297</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeChunksAdvanced</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">chunks,chunkGroups</td>
<td style="text-align:left">高级chunk优化</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1298">Compilation.js#L1298</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterOptimizeChunks</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks,chunkGroups</td>
<td style="text-align:left">chunk 优化完成之后触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1302">Compilation.js#L1302</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeTree</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">chunks,modules</td>
<td style="text-align:left">异步优化依赖树</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1304">Compilation.js#L1304</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterOptimizeTree</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks,modules</td>
<td style="text-align:left">异步优化依赖树完成时</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1309">Compilation.js#L1309</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeChunkModulesBasic</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">chunks,modules</td>
<td style="text-align:left">基础优化单个chunk中的 modules 开始</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1312">Compilation.js#L1312</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeChunkModules</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">chunks,modules</td>
<td style="text-align:left">优化单个chunk中的 modules 开始</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1313">Compilation.js#L1313</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeChunkModulesAdvanced</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">chunks,modules</td>
<td style="text-align:left">高级优化单个chunk中的 modules 开始</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1314">Compilation.js#L1314</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterOptimizeChunkModules</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks,modules</td>
<td style="text-align:left">优化单个chunk中的 modules结束后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1318">Compilation.js#L1318</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">shouldRecord</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">是否应该记录</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1320">Compilation.js#L1320</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">reviveModules</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">modules,records</td>
<td style="text-align:left">从 records 中恢复模块信息</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1322">Compilation.js#L1322</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeModuleOrder</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">将模块从最重要的到最不重要的进行排序</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1323">Compilation.js#L1323</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">advancedOptimizeModuleOrder</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">高级将模块从最重要的到最不重要的进行排序</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1324">Compilation.js#L1324</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">beforeModuleIds</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">处理 modulesId 之前</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1325">Compilation.js#L1325</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">moduleIds</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">处理 modulesId</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1326">Compilation.js#L1326</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeModuleIds</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">优化 modulesId</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1328">Compilation.js#L1328</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterOptimizeModuleIds</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">modules</td>
<td style="text-align:left">优化 modulesId之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1329">Compilation.js#L1329</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">reviveChunks</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks,records</td>
<td style="text-align:left">从 records 中恢复 chunk 信息</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1333">Compilation.js#L1333</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeChunkOrder</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks</td>
<td style="text-align:left">将 chunk 从最重要的到最不重要的进行排序</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1334">Compilation.js#L1334</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">beforeChunkIds</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks</td>
<td style="text-align:left">chunk id 优化之前触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1335">Compilation.js#L1335</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeChunkIds</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks</td>
<td style="text-align:left">chunk id 优化开始触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1337">Compilation.js#L1337</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterOptimizeChunkIds</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks</td>
<td style="text-align:left">chunk id 优化结束触发</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1338">Compilation.js#L1338</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">recordModules</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">modules,records</td>
<td style="text-align:left">将模块信息存储到 records</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1343">Compilation.js#L1343</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">recordChunks</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks,records</td>
<td style="text-align:left">将 chunk 信息存储到 records</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1344">Compilation.js#L1344</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">beforeHash</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">在编译被哈希（hashed）之前</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1347">Compilation.js#L1347</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">chunkHash</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunk,chunkHash</td>
<td style="text-align:left">生成chunkHash</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1937">Compilation.js#L1937</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">contentHash</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunk</td>
<td style="text-align:left">生成contentHash</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1941">Compilation.js#L1941</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterHash</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">在编译被哈希（hashed）之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1349">Compilation.js#L1349</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">recordHash</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">records</td>
<td style="text-align:left">记录hash</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1352">Compilation.js#L1352</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">beforeModuleAssets</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">在创建模块的资源之前</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1355">Compilation.js#L1355</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">shouldGenerateChunkAssets</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">是否要生成chunk资源</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1357">Compilation.js#L1357</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">beforeChunkAssets</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">在创建 chunk 资源（asset）之前</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1358">Compilation.js#L1358</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">chunkAsset</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunk,filename</td>
<td style="text-align:left">一个 chunk 中的一个资源被添加到编译中</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L2019">Compilation.js#L2019</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">additionalChunkAssets</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks</td>
<td style="text-align:left">additionalChunkAssets</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1361">Compilation.js#L1361</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">record</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">compilation,records</td>
<td style="text-align:left">将 compilation 相关信息存储到 records 中</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1364">Compilation.js#L1364</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">additionalAssets</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">为编译（compilation）创建附加资源（asset）</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1367">Compilation.js#L1367</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeChunkAssets</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">compilation</td>
<td style="text-align:left">优化所有 chunk 资源（asset）</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1343">Compilation.js#L1343</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterOptimizeChunkAssets</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">chunks</td>
<td style="text-align:left">chunk 资源（asset）已经被优化</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1343">Compilation.js#L1371</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">optimizeAssets</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">assets</td>
<td style="text-align:left">优化存储在 compilation.assets 中的所有资源（asset）</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1343">Compilation.js#L1371</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterOptimizeAssets</td>
<td style="text-align:left">SyncHook</td>
<td style="text-align:left">assets</td>
<td style="text-align:left">优化compilation.assets 中的所有资源（asset）之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1380">Compilation.js#L1380</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">needAdditionalSeal</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">是否需要额外的seal</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1381">Compilation.js#L1381</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">afterSeal</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">seal之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compilation.js#L1383">Compilation.js#L1383</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">afterCompile</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">compilation</td>
<td style="text-align:left">完成编译和封存（seal）编译产出之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L668">Compiler.js#L668</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">shouldEmit</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left">compilation</td>
<td style="text-align:left">发布构建后资源之前触发，回调必须返回true/false，true则继续</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L267">Compiler.js#L267</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">emit</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">compilation</td>
<td style="text-align:left">生成资源到 output 目录之前</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L481">Compiler.js#L481</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">assetEmitted</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">file,content</td>
<td style="text-align:left">assetEmitted</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L437">Compiler.js#L437</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">afterEmit</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">compilation</td>
<td style="text-align:left">生成资源到 output 目录之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L472">Compiler.js#L472</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">needAdditionalPass</td>
<td style="text-align:left">SyncBailHook</td>
<td style="text-align:left"></td>
<td style="text-align:left">是否需要额外的</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L281">Compiler.js#L281</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">compiler</td>
<td style="text-align:left">done</td>
<td style="text-align:left">AsyncSeriesHook</td>
<td style="text-align:left">stats</td>
<td style="text-align:left">compilation完成之后</td>
<td style="text-align:left"><a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Compiler.js#L304">Compiler.js#L304</a></td>
</tr>
</tbody>
</table>
<h2 id="t155.Stats 对象">5.Stats 对象 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t155.Stats%20%E5%AF%B9%E8%B1%A1"> # </a></h2>
<ul>
<li>在 Webpack 的回调函数中会得到stats对象</li>
<li>这个对象实际来自于<code>Compilation.getStats()</code>，返回的是主要含有<code>modules</code>、<code>chunks</code>和<code>assets</code>三个属性值的对象。</li>
<li>Stats对象本质上来自于<a href="https://github.com/webpack/webpack/blob/v4.39.3/lib/Stats.js">lib/Stats.js</a>的类实例</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">字段</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">modules</td>
<td style="text-align:left">记录了所有解析后的模块</td>
</tr>
<tr>
<td style="text-align:left">chunks</td>
<td style="text-align:left">记录了所有chunk</td>
</tr>
<tr>
<td style="text-align:left">assets</td>
<td style="text-align:left">记录了所有要生成的文件</td>
</tr>
</tbody>
</table>
<pre><code class="lang-js">npx webpack --profile --json &gt; stats.json
</code></pre>
<pre><code class="lang-json">{
  <span class="hljs-attr">"errors"</span>: [],<span class="hljs-comment">// 错误字符串 (error string) 的数组</span>
  <span class="hljs-attr">"warnings"</span>: [],<span class="hljs-comment">//警告字符串 (warning string) 的数组</span>
  <span class="hljs-attr">"version"</span>: <span class="hljs-string">"4.39.3"</span>,<span class="hljs-comment">// 用来编译的 webpack 的版本</span>
  <span class="hljs-attr">"hash"</span>: <span class="hljs-string">"3e945ec6b2c56d0b010e"</span>,<span class="hljs-comment">//编译使用的 hash</span>
  <span class="hljs-attr">"time"</span>: <span class="hljs-number">66</span>, <span class="hljs-comment">// 编译耗时 (ms)</span>
  <span class="hljs-attr">"builtAt"</span>: <span class="hljs-number">1567225465347</span>,<span class="hljs-comment">//编译的时间</span>
  <span class="hljs-attr">"publicPath"</span>: <span class="hljs-string">""</span>,<span class="hljs-comment">//资源访问路径</span>
  <span class="hljs-attr">"outputPath"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\dist"</span>,<span class="hljs-comment">//webpack输出目录</span>
  <span class="hljs-attr">"assetsByChunkName"</span>: {<span class="hljs-comment">//用作映射的 chunk 的名称</span>
    <span class="hljs-attr">"lazy"</span>: <span class="hljs-string">"lazy.bundle.js"</span>,<span class="hljs-comment">//chunk的名字叫lazy,lazy.bundle.js</span>
    <span class="hljs-attr">"main"</span>: <span class="hljs-string">"bundle.js"</span><span class="hljs-comment">//chunk的名字叫main,打包出来了bundle.js</span>
  },
  <span class="hljs-attr">"assets"</span>: [<span class="hljs-comment">//asset 对象 (asset objects) 的数组</span>
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"bundle.js"</span>,<span class="hljs-comment">//文件名</span>
      <span class="hljs-attr">"size"</span>: <span class="hljs-number">9043</span>,<span class="hljs-comment">//大小</span>
      <span class="hljs-attr">"chunks"</span>: [<span class="hljs-comment">//包含的代码块</span>
        <span class="hljs-string">"main"</span>
      ],
      <span class="hljs-attr">"chunkNames"</span>: [<span class="hljs-comment">//包含的代码块名称</span>
        <span class="hljs-string">"main"</span>
      ],
      <span class="hljs-attr">"emitted"</span>: <span class="hljs-literal">true</span><span class="hljs-comment">//是否要生成</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"lazy.bundle.js"</span>, <span class="hljs-comment">// 输出的文件名</span>
      <span class="hljs-attr">"size"</span>: <span class="hljs-number">336</span>,<span class="hljs-comment">// 文件的大小</span>
      <span class="hljs-attr">"chunks"</span>: [ <span class="hljs-comment">// 这个 asset 包含的 chunk 的 id</span>
        <span class="hljs-string">"lazy"</span>
      ],
      <span class="hljs-attr">"chunkNames"</span>: [<span class="hljs-comment">// 这个 asset 包含的 chunk</span>
        <span class="hljs-string">"lazy"</span>
      ],
      <span class="hljs-attr">"emitted"</span>: <span class="hljs-literal">true</span>  <span class="hljs-comment">// 表示这个 asset 是否会让它输出到 output 目录</span>
    }
  ],
  <span class="hljs-attr">"filteredAssets"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">"entrypoints"</span>: {
    <span class="hljs-attr">"main"</span>: {
      <span class="hljs-attr">"chunks"</span>: [
        <span class="hljs-string">"main"</span>
      ],
      <span class="hljs-attr">"assets"</span>: [
        <span class="hljs-string">"bundle.js"</span>
      ],
      <span class="hljs-attr">"children"</span>: {},
      <span class="hljs-attr">"childAssets"</span>: {}
    }
  },
  <span class="hljs-attr">"namedChunkGroups"</span>: {
    <span class="hljs-attr">"main"</span>: {
      <span class="hljs-attr">"chunks"</span>: [
        <span class="hljs-string">"main"</span>
      ],
      <span class="hljs-attr">"assets"</span>: [
        <span class="hljs-string">"bundle.js"</span>
      ],
      <span class="hljs-attr">"children"</span>: {},
      <span class="hljs-attr">"childAssets"</span>: {}
    },
    <span class="hljs-attr">"lazy"</span>: {
      <span class="hljs-attr">"chunks"</span>: [
        <span class="hljs-string">"lazy"</span>
      ],
      <span class="hljs-attr">"assets"</span>: [
        <span class="hljs-string">"lazy.bundle.js"</span>
      ],
      <span class="hljs-attr">"children"</span>: {},
      <span class="hljs-attr">"childAssets"</span>: {}
    }
  },
  <span class="hljs-attr">"chunks"</span>: [ <span class="hljs-comment">//chunk 对象 (chunk objects) 的数组</span>
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"lazy"</span>, <span class="hljs-comment">// 这个 chunk 的id</span>
      <span class="hljs-attr">"rendered"</span>: <span class="hljs-literal">true</span>,<span class="hljs-comment">// 表示这个 chunk 是否会参与进编译</span>
      <span class="hljs-attr">"initial"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"entry"</span>: <span class="hljs-literal">false</span>,<span class="hljs-comment">// 表示这个 chunk 是否包含 webpack 的运行时</span>
      <span class="hljs-attr">"size"</span>: <span class="hljs-number">24</span>,<span class="hljs-comment">//预估的模块大小</span>
      <span class="hljs-attr">"names"</span>: [<span class="hljs-comment">// 包含在这个 chunk 内的 chunk 的名字的数组</span>
        <span class="hljs-string">"lazy"</span>
      ],
      <span class="hljs-attr">"files"</span>: [
        <span class="hljs-string">"lazy.bundle.js"</span>
      ],
      <span class="hljs-attr">"hash"</span>: <span class="hljs-string">"d08a8b502d30324f81e1"</span>,
      <span class="hljs-attr">"siblings"</span>: [],
      <span class="hljs-attr">"parents"</span>: [<span class="hljs-comment">// 父 chunk 的 ids</span>
        <span class="hljs-string">"main"</span>
      ],
      <span class="hljs-attr">"children"</span>: [],
      <span class="hljs-attr">"childrenByOrder"</span>: {},
      <span class="hljs-attr">"modules"</span>: [
        {
          <span class="hljs-attr">"id"</span>: <span class="hljs-string">"./src/lazy.js"</span>,
          <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\lazy.js"</span>,
          <span class="hljs-attr">"name"</span>: <span class="hljs-string">"./src/lazy.js"</span>,
          <span class="hljs-attr">"index"</span>: <span class="hljs-number">2</span>,
          <span class="hljs-attr">"index2"</span>: <span class="hljs-number">2</span>,
          <span class="hljs-attr">"size"</span>: <span class="hljs-number">24</span>,
          <span class="hljs-attr">"cacheable"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">"built"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">"optional"</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">"prefetched"</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">"chunks"</span>: [
            <span class="hljs-string">"lazy"</span>
          ],
          <span class="hljs-attr">"issuer"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
          <span class="hljs-attr">"issuerId"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"issuerName"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"issuerPath"</span>: [
            {
              <span class="hljs-attr">"id"</span>: <span class="hljs-string">"./src/index.js"</span>,
              <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
              <span class="hljs-attr">"name"</span>: <span class="hljs-string">"./src/index.js"</span>,
              <span class="hljs-attr">"profile"</span>: {
                <span class="hljs-attr">"factory"</span>: <span class="hljs-number">18</span>,
                <span class="hljs-attr">"building"</span>: <span class="hljs-number">14</span>
              }
            }
          ],
          <span class="hljs-attr">"profile"</span>: {
            <span class="hljs-attr">"factory"</span>: <span class="hljs-number">4</span>,
            <span class="hljs-attr">"building"</span>: <span class="hljs-number">2</span>
          },
          <span class="hljs-attr">"failed"</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">"errors"</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">"warnings"</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">"assets"</span>: [],
          <span class="hljs-attr">"reasons"</span>: [<span class="hljs-comment">// 生成 assets 的原因</span>
            {
              <span class="hljs-attr">"moduleId"</span>: <span class="hljs-string">"./src/index.js"</span>,<span class="hljs-comment">//模块的ID</span>
              <span class="hljs-attr">"moduleIdentifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,<span class="hljs-comment">//唯一标识</span>
              <span class="hljs-attr">"module"</span>: <span class="hljs-string">"./src/index.js"</span>,<span class="hljs-comment">//模块</span>
              <span class="hljs-attr">"moduleName"</span>: <span class="hljs-string">"./src/index.js"</span>,<span class="hljs-comment">//模块名称</span>
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"import()"</span>,<span class="hljs-comment">//类型</span>
              <span class="hljs-attr">"userRequest"</span>: <span class="hljs-string">"./lazy"</span>,<span class="hljs-comment">//用户请求方式</span>
              <span class="hljs-attr">"loc"</span>: <span class="hljs-string">"2:0-46"</span><span class="hljs-comment">//在父模块中的位置</span>
            }
          ],
          <span class="hljs-attr">"providedExports"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"optimizationBailout"</span>: [],
          <span class="hljs-attr">"depth"</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">"source"</span>: <span class="hljs-string">"module.exports = 'lazy';"</span>
        }
      ],
      <span class="hljs-attr">"filteredModules"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"origins"</span>: [
        {
          <span class="hljs-attr">"moduleId"</span>: <span class="hljs-string">"./src/index.js"</span>,<span class="hljs-comment">// 模块的ID</span>
          <span class="hljs-attr">"module"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,<span class="hljs-comment">// 模块的位置</span>
          <span class="hljs-attr">"moduleIdentifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,<span class="hljs-comment">// 模块的地址</span>
          <span class="hljs-attr">"moduleName"</span>: <span class="hljs-string">"./src/index.js"</span>,<span class="hljs-comment">//模块的相对地址</span>
          <span class="hljs-attr">"loc"</span>: <span class="hljs-string">"2:0-46"</span>,
          <span class="hljs-attr">"request"</span>: <span class="hljs-string">"./lazy"</span>,
          <span class="hljs-attr">"reasons"</span>: [] <span class="hljs-comment">// 具体是哪行生成了这个chunk</span>
        }
      ]
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"main"</span>,
      <span class="hljs-attr">"rendered"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"initial"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"entry"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"size"</span>: <span class="hljs-number">162</span>,
      <span class="hljs-attr">"names"</span>: [
        <span class="hljs-string">"main"</span>
      ],
      <span class="hljs-attr">"files"</span>: [
        <span class="hljs-string">"bundle.js"</span>
      ],
      <span class="hljs-attr">"hash"</span>: <span class="hljs-string">"263cadc0459e8470151b"</span>,
      <span class="hljs-attr">"siblings"</span>: [],
      <span class="hljs-attr">"parents"</span>: [],
      <span class="hljs-attr">"children"</span>: [<span class="hljs-comment">// 自己引用哪些chunk</span>
        <span class="hljs-string">"lazy"</span>
      ],
      <span class="hljs-attr">"childrenByOrder"</span>: {}, <span class="hljs-comment">// 引用的顺序</span>
      <span class="hljs-attr">"modules"</span>: [
        {
          <span class="hljs-attr">"id"</span>: <span class="hljs-string">"./src/hello.js"</span>,
          <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\hello.js"</span>,
          <span class="hljs-attr">"name"</span>: <span class="hljs-string">"./src/hello.js"</span>,
          <span class="hljs-attr">"index"</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">"index2"</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">"size"</span>: <span class="hljs-number">25</span>,
          <span class="hljs-attr">"cacheable"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">"built"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">"optional"</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">"prefetched"</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">"chunks"</span>: [
            <span class="hljs-string">"main"</span>
          ],
          <span class="hljs-attr">"issuer"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
          <span class="hljs-attr">"issuerId"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"issuerName"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"issuerPath"</span>: [
            {
              <span class="hljs-attr">"id"</span>: <span class="hljs-string">"./src/index.js"</span>,
              <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
              <span class="hljs-attr">"name"</span>: <span class="hljs-string">"./src/index.js"</span>,
              <span class="hljs-attr">"profile"</span>: {
                <span class="hljs-attr">"factory"</span>: <span class="hljs-number">18</span>,
                <span class="hljs-attr">"building"</span>: <span class="hljs-number">14</span>
              }
            }
          ],
          <span class="hljs-attr">"profile"</span>: {
            <span class="hljs-attr">"factory"</span>: <span class="hljs-number">4</span>,
            <span class="hljs-attr">"building"</span>: <span class="hljs-number">2</span>
          },
          <span class="hljs-attr">"failed"</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">"errors"</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">"warnings"</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">"assets"</span>: [],
          <span class="hljs-attr">"reasons"</span>: [
            {
              <span class="hljs-attr">"moduleId"</span>: <span class="hljs-string">"./src/index.js"</span>,
              <span class="hljs-attr">"moduleIdentifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
              <span class="hljs-attr">"module"</span>: <span class="hljs-string">"./src/index.js"</span>,
              <span class="hljs-attr">"moduleName"</span>: <span class="hljs-string">"./src/index.js"</span>,
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"cjs require"</span>,
              <span class="hljs-attr">"userRequest"</span>: <span class="hljs-string">"./hello"</span>,
              <span class="hljs-attr">"loc"</span>: <span class="hljs-string">"1:12-30"</span>
            }
          ],
          <span class="hljs-attr">"providedExports"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"optimizationBailout"</span>: [],
          <span class="hljs-attr">"depth"</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">"source"</span>: <span class="hljs-string">"module.exports = 'hello';"</span>
        },
        {
          <span class="hljs-attr">"id"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
          <span class="hljs-attr">"name"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"index"</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">"index2"</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">"size"</span>: <span class="hljs-number">137</span>,
          <span class="hljs-attr">"cacheable"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">"built"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">"optional"</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">"prefetched"</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">"chunks"</span>: [
            <span class="hljs-string">"main"</span>
          ],
          <span class="hljs-attr">"issuer"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"issuerId"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"issuerName"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"issuerPath"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"profile"</span>: {
            <span class="hljs-attr">"factory"</span>: <span class="hljs-number">18</span>,
            <span class="hljs-attr">"building"</span>: <span class="hljs-number">14</span>
          },
          <span class="hljs-attr">"failed"</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">"errors"</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">"warnings"</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">"assets"</span>: [],
          <span class="hljs-attr">"reasons"</span>: [
            {
              <span class="hljs-attr">"moduleId"</span>: <span class="hljs-literal">null</span>,
              <span class="hljs-attr">"moduleIdentifier"</span>: <span class="hljs-literal">null</span>,
              <span class="hljs-attr">"module"</span>: <span class="hljs-literal">null</span>,
              <span class="hljs-attr">"moduleName"</span>: <span class="hljs-literal">null</span>,
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"single entry"</span>,
              <span class="hljs-attr">"userRequest"</span>: <span class="hljs-string">"./src/index.js"</span>,
              <span class="hljs-attr">"loc"</span>: <span class="hljs-string">"main"</span>
            }
          ],
          <span class="hljs-attr">"providedExports"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"optimizationBailout"</span>: [],
          <span class="hljs-attr">"depth"</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">"source"</span>: <span class="hljs-string">"let hello = require('./hello');\r\nimport(/* webpackChunkName: \"lazy\" */'./lazy').then(result=&gt;{\r\n    console.log(hello,resut.default)\r\n});"</span>
        }
      ],
      <span class="hljs-attr">"filteredModules"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"origins"</span>: [
        {
          <span class="hljs-attr">"module"</span>: <span class="hljs-string">""</span>,
          <span class="hljs-attr">"moduleIdentifier"</span>: <span class="hljs-string">""</span>,
          <span class="hljs-attr">"moduleName"</span>: <span class="hljs-string">""</span>,
          <span class="hljs-attr">"loc"</span>: <span class="hljs-string">"main"</span>,
          <span class="hljs-attr">"request"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"reasons"</span>: []
        }
      ]
    }
  ],
  <span class="hljs-attr">"modules"</span>: [<span class="hljs-comment">// 模块对象 (module objects) 的数组</span>
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"./src/hello.js"</span>,<span class="hljs-comment">//模块ID</span>
      <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\hello.js"</span>,<span class="hljs-comment">//webpack内部使用的唯一的标识</span>
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"./src/hello.js"</span>,<span class="hljs-comment">// 实际文件的地址</span>
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">1</span>,<span class="hljs-comment">//索引</span>
      <span class="hljs-attr">"index2"</span>: <span class="hljs-number">0</span>,<span class="hljs-comment">//索引</span>
      <span class="hljs-attr">"size"</span>: <span class="hljs-number">25</span>,<span class="hljs-comment">// 预估模块的大小 (byte)</span>
      <span class="hljs-attr">"cacheable"</span>: <span class="hljs-literal">true</span>,<span class="hljs-comment">// 表示这个模块是否会被缓存</span>
      <span class="hljs-attr">"built"</span>: <span class="hljs-literal">true</span>,<span class="hljs-comment">// 表示这个模块会参与 Loaders , 解析, 并被编译</span>
      <span class="hljs-attr">"optional"</span>: <span class="hljs-literal">false</span>,<span class="hljs-comment">// 每一个对这个模块的请求都会包裹在 `try... catch` 内</span>
      <span class="hljs-attr">"prefetched"</span>: <span class="hljs-literal">false</span>,<span class="hljs-comment">// 表示这个模块是否会被 prefetched</span>
      <span class="hljs-attr">"chunks"</span>: [<span class="hljs-comment">//此模块在哪个代码块内</span>
        <span class="hljs-string">"main"</span>
      ],
      <span class="hljs-attr">"issuer"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,<span class="hljs-comment">//使用者唯一标识</span>
      <span class="hljs-attr">"issuerId"</span>: <span class="hljs-string">"./src/index.js"</span>,<span class="hljs-comment">//使用者ID</span>
      <span class="hljs-attr">"issuerName"</span>: <span class="hljs-string">"./src/index.js"</span>,<span class="hljs-comment">//使用者名称</span>
      <span class="hljs-attr">"issuerPath"</span>: [<span class="hljs-comment">//使用者路径</span>
        {
          <span class="hljs-attr">"id"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
          <span class="hljs-attr">"name"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"profile"</span>: { <span class="hljs-comment">//这个模块特有的编译时间数据(ms)</span>
            <span class="hljs-attr">"factory"</span>: <span class="hljs-number">18</span>,<span class="hljs-comment">// 解决依赖的时间</span>
            <span class="hljs-attr">"building"</span>: <span class="hljs-number">14</span> <span class="hljs-comment">// 载入和解析的时间</span>
          }
        }
      ],
      <span class="hljs-attr">"profile"</span>: {
        <span class="hljs-attr">"factory"</span>: <span class="hljs-number">4</span>,<span class="hljs-comment">// 解决依赖的时间</span>
        <span class="hljs-attr">"building"</span>: <span class="hljs-number">2</span><span class="hljs-comment">// 载入和解析的时间</span>
      },
      <span class="hljs-attr">"failed"</span>: <span class="hljs-literal">false</span>,<span class="hljs-comment">//是否失败</span>
      <span class="hljs-attr">"errors"</span>: <span class="hljs-number">0</span>,<span class="hljs-comment">// 处理模块时错误的数量</span>
      <span class="hljs-attr">"warnings"</span>: <span class="hljs-number">0</span>,<span class="hljs-comment">// 处理模块时警告的数量</span>
      <span class="hljs-attr">"assets"</span>: [],<span class="hljs-comment">//在哪个资源内</span>
      <span class="hljs-attr">"reasons"</span>: [
        {
          <span class="hljs-attr">"moduleId"</span>: <span class="hljs-string">"./src/index.js"</span>,<span class="hljs-comment">// 模块的 ID</span>
          <span class="hljs-attr">"moduleIdentifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,<span class="hljs-comment">// 模块的地址</span>
          <span class="hljs-attr">"module"</span>: <span class="hljs-string">"./src/index.js"</span>,<span class="hljs-comment">// 所基于模块的相对地址 context</span>
          <span class="hljs-attr">"moduleName"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"type"</span>: <span class="hljs-string">"cjs require"</span>,<span class="hljs-comment">// 使用的请求的种类 (require或import)</span>
          <span class="hljs-attr">"userRequest"</span>: <span class="hljs-string">"./hello"</span>,<span class="hljs-comment">// 用来 `import` 或者 `require` 的源字符串</span>
          <span class="hljs-attr">"loc"</span>: <span class="hljs-string">"1:12-30"</span> <span class="hljs-comment">// 导致这个被加入依赖图标的代码行数</span>
        }
      ],
      <span class="hljs-attr">"providedExports"</span>: <span class="hljs-literal">null</span>,<span class="hljs-comment">//提供的导出对象</span>
      <span class="hljs-attr">"optimizationBailout"</span>: [],<span class="hljs-comment">//失败时的优化</span>
      <span class="hljs-attr">"depth"</span>: <span class="hljs-number">1</span>,<span class="hljs-comment">//模块深度</span>
      <span class="hljs-attr">"source"</span>: <span class="hljs-string">"module.exports = 'hello';"</span><span class="hljs-comment">// 字符串化的输入</span>
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"./src/index.js"</span>,
      <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"./src/index.js"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"index2"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">"size"</span>: <span class="hljs-number">137</span>,
      <span class="hljs-attr">"cacheable"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"built"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"optional"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"prefetched"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"chunks"</span>: [
        <span class="hljs-string">"main"</span>
      ],
      <span class="hljs-attr">"issuer"</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">"issuerId"</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">"issuerName"</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">"issuerPath"</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">"profile"</span>: {
        <span class="hljs-attr">"factory"</span>: <span class="hljs-number">18</span>,
        <span class="hljs-attr">"building"</span>: <span class="hljs-number">14</span>
      },
      <span class="hljs-attr">"failed"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"errors"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"warnings"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"assets"</span>: [],
      <span class="hljs-attr">"reasons"</span>: [
        {
          <span class="hljs-attr">"moduleId"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"moduleIdentifier"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"module"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"moduleName"</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">"type"</span>: <span class="hljs-string">"single entry"</span>,
          <span class="hljs-attr">"userRequest"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"loc"</span>: <span class="hljs-string">"main"</span>
        }
      ],
      <span class="hljs-attr">"providedExports"</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">"optimizationBailout"</span>: [],
      <span class="hljs-attr">"depth"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"source"</span>: <span class="hljs-string">"let hello = require('./hello');\r\nimport(/* webpackChunkName: \"lazy\" */'./lazy').then(result=&gt;{\r\n    console.log(hello,resut.default)\r\n});"</span>
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"./src/lazy.js"</span>,
      <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\lazy.js"</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"./src/lazy.js"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">2</span>,
      <span class="hljs-attr">"index2"</span>: <span class="hljs-number">2</span>,
      <span class="hljs-attr">"size"</span>: <span class="hljs-number">24</span>,
      <span class="hljs-attr">"cacheable"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"built"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"optional"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"prefetched"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"chunks"</span>: [
        <span class="hljs-string">"lazy"</span>
      ],
      <span class="hljs-attr">"issuer"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
      <span class="hljs-attr">"issuerId"</span>: <span class="hljs-string">"./src/index.js"</span>,
      <span class="hljs-attr">"issuerName"</span>: <span class="hljs-string">"./src/index.js"</span>,
      <span class="hljs-attr">"issuerPath"</span>: [
        {
          <span class="hljs-attr">"id"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
          <span class="hljs-attr">"name"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"profile"</span>: {
            <span class="hljs-attr">"factory"</span>: <span class="hljs-number">18</span>,
            <span class="hljs-attr">"building"</span>: <span class="hljs-number">14</span>
          }
        }
      ],
      <span class="hljs-attr">"profile"</span>: {
        <span class="hljs-attr">"factory"</span>: <span class="hljs-number">4</span>,
        <span class="hljs-attr">"building"</span>: <span class="hljs-number">2</span>
      },
      <span class="hljs-attr">"failed"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"errors"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"warnings"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"assets"</span>: [],
      <span class="hljs-attr">"reasons"</span>: [
        {
          <span class="hljs-attr">"moduleId"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"moduleIdentifier"</span>: <span class="hljs-string">"C:\\vipdata\\vipproject\\webpack-source\\src\\index.js"</span>,
          <span class="hljs-attr">"module"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"moduleName"</span>: <span class="hljs-string">"./src/index.js"</span>,
          <span class="hljs-attr">"type"</span>: <span class="hljs-string">"import()"</span>,
          <span class="hljs-attr">"userRequest"</span>: <span class="hljs-string">"./lazy"</span>,
          <span class="hljs-attr">"loc"</span>: <span class="hljs-string">"2:0-46"</span>
        }
      ],
      <span class="hljs-attr">"providedExports"</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">"optimizationBailout"</span>: [],
      <span class="hljs-attr">"depth"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">"source"</span>: <span class="hljs-string">"module.exports = 'lazy';"</span>
    }
  ],
  <span class="hljs-attr">"filteredModules"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">"logging"</span>: {
    <span class="hljs-attr">"webpack.buildChunkGraph.visitModules"</span>: {
      <span class="hljs-attr">"entries"</span>: [],
      <span class="hljs-attr">"filteredEntries"</span>: <span class="hljs-number">5</span>,
      <span class="hljs-attr">"debug"</span>: <span class="hljs-literal">false</span>
    }
  },
  <span class="hljs-attr">"children"</span>: []
}

</code></pre>
<h2 id="t166. 主要工作流程">6. 主要工作流程 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t166.%20%E4%B8%BB%E8%A6%81%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"> # </a></h2>
<ul>
<li>Webpack 的运行流程是一个串行的过程，从启动到结束会依次执行以下流程：</li>
<li><code>初始化参数</code>：从配置文件和 Shell 语句中读取与合并参数，得出最终的参数；</li>
<li>开始编译：用上一步得到的参数初始化 Compiler 对象，加载所有配置的插件，执行对象的run方法开始执行编译；
确定入口：根据配置中的 entry 找出所有的入口文件</li>
<li>编译模块：从入口文件出发，调用所有配置的 Loader 对模块进行编译，再找出该模块依赖的模块，再递归本步骤直到所有入口依赖的文件都经过了本步骤的处理；</li>
<li>完成模块编译：在经过第4步使用 Loader 翻译完所有模块后，得到了每个模块被翻译后的最终内容以及它们之间的依赖关系；</li>
<li>输出资源：根据入口和模块之间的依赖关系，组装成一个个包含多个模块的 Chunk，再把每个 Chunk 转换成一个单独的文件加入到输出列表，这步是可以修改输出内容的最后机会；</li>
<li>输出完成：在确定好输出内容后，根据配置确定输出的路径和文件名，把文件内容写入到文件系统。</li>
<li>在以上过程中，Webpack 会在特定的时间点广播出特定的事件，插件在监听到感兴趣的事件后会执行特定的逻辑，并且插件可以调用 Webpack 提供的 API 改变 Webpack 的运行结果。</li>
</ul>
<p><img src="./珠峰架构师成长计划_files/webpackcode.jpg" alt="webpackcode"></p>
<h3 id="t176.1 初始化阶段">6.1 初始化阶段 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t176.1%20%E5%88%9D%E5%A7%8B%E5%8C%96%E9%98%B6%E6%AE%B5"> # </a></h3>
<table>
<thead>
<tr>
<th style="text-align:left">事件名</th>
<th style="text-align:left">解释</th>
<th style="text-align:left">代码位置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">读取命令行参数</td>
<td style="text-align:left">从命令行中读取用户输入的参数</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/webpack-cli/bin/cli.js#L241"> require("./convert-argv")(argv)</a></td>
</tr>
<tr>
<td style="text-align:left">实例化 Compiler</td>
<td style="text-align:left">1.用上一步得到的参数初始化 Compiler 实例<br>2.Compiler 负责文件监听和启动编译<br>3.Compiler 实例中包含了完整的 Webpack 配置，全局只有一个 Compiler 实例。<br></td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/webpack-cli/bin/cli.js#L443">compiler = webpack(options);</a></td>
</tr>
<tr>
<td style="text-align:left">加载插件</td>
<td style="text-align:left">1.依次调用插件的 apply 方法，让插件可以监听后续的所有事件节点。<br>同时给插件传入 compiler 实例的引用，以方便插件通过 compiler 调用 Webpack 提供的 API。</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/webpack.js#L42-L50">plugin.apply(compiler)</a></td>
</tr>
<tr>
<td style="text-align:left">处理入口</td>
<td style="text-align:left">读取配置的 Entrys，为每个 Entry 实例化一个对应的 EntryPlugin，为后面该 Entry 的递归解析工作做准备</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/WebpackOptionsApply.js#L306">new EntryOptionPlugin().apply(compiler)</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/EntryOptionPlugin.js#L24">new SingleEntryPlugin(context, item, name)</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/SingleEntryPlugin.js#L40-L48">compiler.hooks.make.tapAsync</a></td>
</tr>
</tbody>
</table>
<h3 id="t186.2 编译阶段">6.2 编译阶段 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t186.2%20%E7%BC%96%E8%AF%91%E9%98%B6%E6%AE%B5"> # </a></h3>
<table>
<thead>
<tr>
<th style="text-align:left">事件名</th>
<th style="text-align:left">解释</th>
<th style="text-align:left">代码位置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">run</td>
<td style="text-align:left">启动一次新的编译</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js#L263-L271">this.hooks.run.callAsync</a></td>
</tr>
<tr>
<td style="text-align:left">compile</td>
<td style="text-align:left">该事件是为了告诉插件一次新的编译将要启动，同时会给插件传入compiler 对象。</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js#L529-L555">compile(callback)</a></td>
</tr>
<tr>
<td style="text-align:left">compilation</td>
<td style="text-align:left">当 Webpack 以开发模式运行时，每当检测到文件变化，一次新的 Compilation 将被创建。<br>一个 Compilation 对象包含了当前的模块资源、编译生成资源、变化的文件等。<br>Compilation 对象也提供了很多事件回调供插件做扩展。</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js#L491-L501">newCompilation(params)</a></td>
</tr>
<tr>
<td style="text-align:left">make</td>
<td style="text-align:left">一个新的 Compilation 创建完毕主开始编译</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js#L544">this.hooks.make.callAsync</a></td>
</tr>
<tr>
<td style="text-align:left">addEntry</td>
<td style="text-align:left">即将从 Entry 开始读取文件</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L1027">compilation.addEntry</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L1047">this._addModuleChain</a></td>
</tr>
<tr>
<td style="text-align:left">moduleFactory</td>
<td style="text-align:left">创建模块工厂</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L933">const moduleFactory = this.dependencyFactories.get(Dep)</a></td>
</tr>
<tr>
<td style="text-align:left">create</td>
<td style="text-align:left">创建模块</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModuleFactory.js#L369-L409">moduleFactory.create</a></td>
</tr>
<tr>
<td style="text-align:left">factory</td>
<td style="text-align:left">开始创建模块</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModuleFactory.js#L396-L406">factory(result, (err, module)</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModuleFactory.js#L129">resolver(result</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModuleFactory.js#L159">this.hooks.resolver.tap("NormalModuleFactory"</a></td>
</tr>
<tr>
<td style="text-align:left">resolveRequestArray</td>
<td style="text-align:left">解析loader路径</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModuleFactory.js#L411">resolveRequestArray</a></td>
</tr>
<tr>
<td style="text-align:left">resolve</td>
<td style="text-align:left">解析资源文件路径</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_enhanced-resolve%404.1.0%40enhanced-resolve/lib/Resolver.js#L136">resolve</a></td>
</tr>
<tr>
<td style="text-align:left">userRequest</td>
<td style="text-align:left">得到包括loader在内的资源文件的绝对路径用!拼起来的字符串</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModuleFactory.js#L254-L259">userRequest</a></td>
</tr>
<tr>
<td style="text-align:left">ruleSet.exec</td>
<td style="text-align:left">它可以根据模块路径名，匹配出模块所需的loader</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModuleFactory.js#L270-L279">this.ruleSet.exec</a></td>
</tr>
<tr>
<td style="text-align:left">_run</td>
<td style="text-align:left">它可以根据模块路径名，匹配出模块所需的loader</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/RuleSet.js#L485-L558">_run</a></td>
</tr>
<tr>
<td style="text-align:left">loaders</td>
<td style="text-align:left">得到所有的loader数组</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModuleFactory.js#L338">results[0].concat(loaders, results[1], results[2])</a></td>
</tr>
<tr>
<td style="text-align:left">getParser</td>
<td style="text-align:left">获取AST解析器</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModuleFactory.js#L357">this.getParser(type, settings.parser)</a></td>
</tr>
<tr>
<td style="text-align:left">buildModule</td>
<td style="text-align:left">开始编译模块</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L996-L1009">this.buildModule(module</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L602-L656">buildModule(module, optional, origin, dependencies, thisCallback)</a></td>
</tr>
<tr>
<td style="text-align:left">build</td>
<td style="text-align:left">开始真正编译入口模块</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModule.js#L396-L469">build(options</a></td>
</tr>
<tr>
<td style="text-align:left">doBuild</td>
<td style="text-align:left">开始真正编译入口模块</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModule.js#L257-L330">doBuild</a></td>
</tr>
<tr>
<td style="text-align:left">执行loader</td>
<td style="text-align:left">使用loader进行转换</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModule.js#L265">runLoaders</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_loader-runner%402.3.1%40loader-runner/lib/LoaderRunner.js#L242">runLoaders</a></td>
</tr>
<tr>
<td style="text-align:left">iteratePitchingLoaders</td>
<td style="text-align:left">开始递归执行pitch loader</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_loader-runner%402.3.1%40loader-runner/lib/LoaderRunner.js#L362">iteratePitchingLoaders</a></td>
</tr>
<tr>
<td style="text-align:left">loadLoader</td>
<td style="text-align:left">加载loader</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_loader-runner%402.3.1%40loader-runner/lib/loadLoader.js#L13">loadLoader</a></td>
</tr>
<tr>
<td style="text-align:left">runSyncOrAsync</td>
<td style="text-align:left">执行pitchLoader</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_loader-runner%402.3.1%40loader-runner/lib/LoaderRunner.js#L175-L188">runSyncOrAsync</a></td>
</tr>
<tr>
<td style="text-align:left">processResource</td>
<td style="text-align:left">开始处理资源</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_loader-runner%402.3.1%40loader-runner/lib/LoaderRunner.js#L192">processResource</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_loader-runner%402.3.1%40loader-runner/lib/LoaderRunner.js#L199">options.readResource</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_loader-runner%402.3.1%40loader-runner/lib/LoaderRunner.js#L202">iterateNormalLoaders</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_loader-runner%402.3.1%40loader-runner/lib/LoaderRunner.js#L209-L235">iterateNormalLoaders</a></td>
</tr>
<tr>
<td style="text-align:left">createSource</td>
<td style="text-align:left">创建源代码对象</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModule.js#L316"> this.createSource</a></td>
</tr>
<tr>
<td style="text-align:left">parse</td>
<td style="text-align:left">使用parser转换抽象语法树</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/NormalModule.js#L445-L467">this.parser.parse</a></td>
</tr>
<tr>
<td style="text-align:left">parse</td>
<td style="text-align:left">解析抽象语法树</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Parser.js#2022">parse(source, initialState)</a></td>
</tr>
<tr>
<td style="text-align:left">acorn.parse</td>
<td style="text-align:left">解析语法树</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Parser.js#L2158">acorn.parse(code, parserOptions)</a></td>
</tr>
<tr>
<td style="text-align:left">ImportDependency</td>
<td style="text-align:left">遍历并添加添加依赖</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/dependencies/HarmonyImportDependencyParserPlugin.js#L28">parser.state.module.addDependency(clearDep)</a></td>
</tr>
<tr>
<td style="text-align:left">succeedModule</td>
<td style="text-align:left">生成语法树后就表示一个模块编译完成</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L652">this.hooks.succeedModule.call(module)</a></td>
</tr>
<tr>
<td style="text-align:left">processModuleDependencies</td>
<td style="text-align:left">递归编译依赖的模块</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L980">this.processModuleDependencies(module</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L663">processModuleDependencies(module, callback)</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L716">this.addModuleDependencies</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L859">buildModule</a></td>
</tr>
<tr>
<td style="text-align:left">make后</td>
<td style="text-align:left">结束make</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js#L545">this.hooks.make.callAsync(compilation, err =&gt; {}</a></td>
</tr>
<tr>
<td style="text-align:left">finish</td>
<td style="text-align:left">编译完成</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js#L547">compilation.finish();</a></td>
</tr>
</tbody>
</table>
<h3 id="t196.3 结束阶段">6.3 结束阶段 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t196.3%20%E7%BB%93%E6%9D%9F%E9%98%B6%E6%AE%B5"> # </a></h3>
<table>
<thead>
<tr>
<th style="text-align:left">事件名</th>
<th style="text-align:left">解释</th>
<th style="text-align:left">代码位置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">seal</td>
<td style="text-align:left">封装</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js#L549">compilation.seal</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L1159-L1301">seal(callback)</a></td>
</tr>
<tr>
<td style="text-align:left">addChunk</td>
<td style="text-align:left">生成资源</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L1400">addChunk(name)</a></td>
</tr>
<tr>
<td style="text-align:left">createChunkAssets</td>
<td style="text-align:left">创建资源</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L1270">this.createChunkAssets()</a></td>
</tr>
<tr>
<td style="text-align:left">getRenderManifest</td>
<td style="text-align:left">获得要渲染的描述文件</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/MainTemplate.js#L355-L360">getRenderManifest(options)</a></td>
</tr>
<tr>
<td style="text-align:left">render</td>
<td style="text-align:left">渲染源码</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compilation.js#L2369">source = fileManifest.render();</a></td>
</tr>
<tr>
<td style="text-align:left">afterCompile</td>
<td style="text-align:left">编译结束</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js##L552">this.hooks.afterCompile</a></td>
</tr>
<tr>
<td style="text-align:left">shouldEmit</td>
<td style="text-align:left">所有需要输出的文件已经生成好，询问插件哪些文件需要输出，哪些不需要。</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js##L215">this.hooks.shouldEmit</a></td>
</tr>
<tr>
<td style="text-align:left">emit</td>
<td style="text-align:left">确定好要输出哪些文件后，执行文件输出，可以在这里获取和修改输出内容。</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js##L228">this.emitAssets(compilation</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js##L363-L367">this.hooks.emit.callAsync</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js##L308-L361">const emitFiles = err</a><br><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js##L338">this.outputFileSystem.writeFile</a></td>
</tr>
<tr>
<td style="text-align:left">this.emitRecords</td>
<td style="text-align:left">写入记录</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js##L249">this.emitRecords</a></td>
</tr>
<tr>
<td style="text-align:left">done</td>
<td style="text-align:left">全部完成</td>
<td style="text-align:left"><a href="https://github.com/zhufengnodejs/webpack-analysis/blob/master/node_modules/_webpack%404.20.2%40webpack/lib/Compiler.js##L255">this.hooks.done.callAsync</a></td>
</tr>
</tbody>
</table>
<p><img src="./珠峰架构师成长计划_files/dependency.jpg" alt="dependency"></p>
<h2 id="t207. 参考">7. 参考 <a href="http://www.zhufengpeixun.com/strong/html/26.webpack-6-sources.html#t207.%20%E5%8F%82%E8%80%83"> # </a></h2>
<ul>
<li><a href="https://github.com/zhufengnodejs/webpack-analysis">webpack-analysis</a></li>
<li><a href="https://alienzhou.github.io/webpack-internal-plugin-relation/">webpack-internal-plugin-relation</a></li>
</ul>

    </div>
</div>
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title" id="loginModalLabel">请登录</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="username" class="control-label">学号:</label>
                        <input type="text" class="form-control" id="username" placeholder="珠峰架构VIP会员系统学号">
                    </div>
                    <div class="form-group">
                        <label for="password" class="control-label">密码:</label>
                        <input type="text" class="form-control" id="password" placeholder="珠峰架构VIP会员系统密码">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">登录</button>
            </div>
        </div>
    </div>
</div>
<script src="./珠峰架构师成长计划_files/jquery.min.js.下载"></script>
<script src="./珠峰架构师成长计划_files/bootstrap.min.js.下载"></script>
<script>
let zhufengjiagou = localStorage.getItem('zhufengjiagou');
const host = 'http://login.zhufengpeixun.com';
if(zhufengjiagou){
  fetch(host+'/check',{method:"GET",mode: 'cors',
　　headers: {'Content-Type': 'application/json', authorization: `Bearer ${zhufengjiagou}`}}).then(response => response.json()).then(res => {
    if(res.success){
     
    }else{
      $('#loginModal').modal('show')
    }
  }) 
}else{
   $('#loginModal').modal('show')
}

$('#loginModal').on('hidden.bs.modal', function (event) {
  var modal = $(this)
  let username = modal.find('.modal-body #username').val();
  let password = modal.find('.modal-body #password').val();
  fetch(host+'/login',{method:"POST",mode: 'cors',
　　headers: {'Content-Type': 'application/json'},
　　body:JSON.stringify({username,password})}).then(response => response.json()).then(res => {
  console.log(res);
    if(res.success){
      localStorage.setItem('zhufengjiagou',res.zhufengjiagou);
    }else{
      window.location.href = 'http://www.zhufengpeixun.cn';
    }
  })
})
</script>
<script>
$('.warpper .page-toc ul ul li a').on('click',function(){
  $('.warpper .page-toc ul ul li a').removeClass('my-active')
  $(this).addClass('my-active')
})
$('.logo').on('mouseenter',function(){
  $('.nav').height('450px');
})
$('.nav').on('mouseleave',function(){
  $('.nav').height('80px');
})
$('.logo').on('click',function(){
  $('.nav').css('display','none');
 $('.warpper').css('padding','0px');
})
</script>


</body></html>