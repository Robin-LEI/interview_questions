http2是完全多路复用的，只需要一个连接就可以实现并行。



什么是多路复用？

在http1.1中，发起一个请求是这样的：

浏览器请求url——>解析域名——>建立http连接——>服务器处理文件——>返回数据——>浏览器解析、渲染文件

这个流程最大的问题是，每次请求都需要建立一次http连接，也就是我们常说的三次握手、四次挥手，这个过程在一次请求中是占用了很长的时间，而且在逻辑上也不是必须的，很耗费性能。

为了解决这个问题，http1.1提供了keep-alive，允许建立一次http连接，来返回多次请求数据。

但是，http1.1基于串行文件传输数据，所以这些请求必须是有序的，所以实际上只是节省了建立连接的时间，而获取数据的时间并没有减少。

还有个最高并发数的问题，假设Apache设置的最高并发数是300，但是由于浏览器本身的限制，一次最多只能有6个并发请求，所以造成了服务器资源的浪费。



http2引入了二进制数据帧和流的概念，其中帧对数据的顺序进行标识，这样服务器就可以并行的传输数据。

http2对同一域名下所有请求都是基于流，也就是说同一域名下不管访问多少文件，也只建立一路连接。同样Apache的最大连接数是300，这时候最大的并发数就可以提升到300.



浏览器的并发请求数

意思就是浏览器同一时间从同一个域名下载多少资源。目前所有浏览器的并发数目一般控制在10以内。