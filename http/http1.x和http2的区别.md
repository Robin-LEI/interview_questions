**http2和http1.1的区别**

1. http2实现了多路复用算法，没有了并发数量的限制，http1.1在同一个域名下，一次最多只能并发请求6个资源请求【解决这个问题：域名切片技术，把资源放在不同的域名下，这样一个页面可以一次性并发请求更多的资源数量，也可以利用webpack，将小的js文件压缩成一个大的js文件，减少请求。雪碧图，以上这些针对http1.1的优化，会打破缓存优势，因为原本我们只需要更新一个小的js文件，这个时候，我们却需要更新一个更大的js文件】。然后需要重新连接tcp连接，比较耗时，浪费带宽。
2. http2使用了HPACK压缩格式，用来压缩请求和响应头数据，将每个值压缩后再传输可以减少体积。
3. http2解决了http1.1存在的队头阻塞问题，比如通过http1.1协议建立一个tcp连接，三个请求组成一个队列发送出去，服务端接受到响应之后，会依次响应，一旦前面的请求阻塞，后面的请求就无法响应。
4. http1.1中头信息必须是文本，请求体可以是文本也可以是二进制，在http2中头信息和数据体都是二进制，并且统称为帧，分为头信息帧和数据体帧。
5. http2增加了服务端推送，当客户端请求index.html的时候，服务端可以主动推送后面需要用到的所有静态资源给客户端，客户端会将资源缓存下来



三次握手的时候，可以知道客户端是否支持http2，如果不支持，则使用http1.1协议。



**http3**

http2还是使用tcp协议来传输，建立tcp连接握手的时间仍然很耗费时间。

采用http2之后，现在客户端和服务端只有一个连接，一旦发生了丢包，整个tcp连接中所有的请求都会被等到重传的过程阻塞。

http3使用了基于udp的quic，来试图解决http2中的由于tcp导致的问题。



