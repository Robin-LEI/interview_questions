执行环境也叫做执行上下文

**为什么会有执行环境的概念？**

执行环境定义了我们有权访问的变量或者函数

**执行环境分为全局执行环境和局部执行环境**

每一个执行环境都有一个自己的变量对象，存储的是这个环境中的变量或者函数，这个变量是我们无法通过编写代码访问到的，但是对于解析器在处理数据的时候会使用到。

全局的执行环境是最外围的，而且和当前的宿主环境有关，在web中全局执行环境是window，但是在node中，全局执行环境是global。

每个函数都有自己的执行环境，也叫做局部执行环境，当执行流进入到一个函数时，这个函数的执行环境就会被推入到环境栈中，当函数中的所有代码全部执行完毕后，才会从执行栈中弹出。重新把执行权交给之前的执行环境。

**执行环境什么时候销毁？**

当每一个执行环境中的代码全部执行完毕之后才销毁，但是需要注意的是在web中全局执行环境是在网页关闭或者浏览器关闭才会被销毁。

**执行环境会产生作用域链。**

当代码在一个环境中执行的时候，会根据当前这个环境中的变量对象创建一个作用域链，这个链的用途是保证对执行环境中有权访问的变量和函数有序的访问。

作用域链的前端是当前执行环境，如果当前的执行环境是函数的话，函数的变量对象是一个活动对象（AO），活动对象在最开始的时候只有一个变量是arguments对象，链的下一端是外部环境的变量对象，以此类推，最后的末端是全部执行环境的变量对象。

**标识符【变量命名】解析**

解析的规则始终是从作用域链的前端开始，逐级回溯搜索，直到作用域链的末端，如果找不到，可能会报错。

标识符的解析是存在代价的，标识符所在的位置越深，消耗的性能越高、读写速度越慢性能开销越大，所以，在函数中读取局部变量是最快的，读取全局变量是最慢的。



```js
let x = {}
let y = new Object()
```

